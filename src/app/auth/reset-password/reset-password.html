<div class="container">
    <div class="form-container">
        <div class="my-5">
            <span class="fs-2 fw-medium">Reset your password</span>
        </div>

        <!-- Success/Error Messages -->
        <div *ngIf="message" class="alert my-3" 
             [ngClass]="{
                'alert-success': isSuccess,
                'alert-danger': isError
             }">
            {{ message }}
        </div>

        <form class="w-100" [formGroup]="resetForm" (ngSubmit)="onSubmit()" *ngIf="!isSuccess">

            <div class="full-width my-4">
                <label class="fs-4 my-2">Please enter your new password*</label>
                <input type="password" 
                       formControlName="password" 
                       class="form-control" 
                       placeholder="New Password" />
                <div *ngIf="resetForm.controls['password'].errors" class="valid-form text-danger mt-2">
                    <div *ngIf="submitted && resetForm.controls['password'].errors['required']">Password is required!</div>
                    <div *ngIf="resetForm.controls['password'].errors['minlength']">Password must be at least 8 characters long!</div>
                    <div *ngIf="resetForm.controls['password'].errors['pattern']">Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character</div>
                </div>
            </div>

            <div class="full-width my-4">
                <label class="fs-4 my-2">Confirm New Password*</label>
                <input type="password" 
                       formControlName="confirmPassword" 
                       class="form-control" 
                       placeholder="Confirm New Password" />
                <div *ngIf="resetForm.controls['confirmPassword'].errors" class="valid-form text-danger mt-2">
                    <div *ngIf="submitted && resetForm.controls['confirmPassword'].errors['required']">Confirm Password is required!</div>
                    <div *ngIf="resetForm.controls['confirmPassword'].errors['mismatch']">Passwords do not match!</div>
                </div>
            </div>

            <button class="reset-btn fs-4 my-4" 
                    type="submit" 
                    [disabled]="isLoading || resetForm.invalid">
                <span *ngIf="isLoading">Resetting...</span>
                <span *ngIf="!isLoading">Reset Password</span>
            </button>
        </form>

        <!-- Back to Login Link -->
        <div class="text-center mt-3" *ngIf="isSuccess">
            <a routerLink="/login" class="btn btn-secondary">Go to Login</a>
        </div>
    </div>
</div>