<div class="container">
  <div class="form-container">
    <div class="my-4 text-center">
      <span class="fs-2 fw-medium">Create your account</span>
    </div>

    <form class="w-100" [formGroup]="signupForm" (ngSubmit)="onSubmit()">

      <!-- Username -->
      <div class="full-width my-3">
        <label class="fs-5">Username</label>
        <input type="text" formControlName="userName" class="form-control" placeholder="ex: userName" />
        <div *ngIf="signupForm.get('userName')?.invalid && signupForm.get('userName')?.touched" class="valid-form">
          <div *ngIf="signupForm.get('userName')?.errors?.['required']">Username is required</div>
          <div *ngIf="signupForm.get('userName')?.errors?.['notUnique']">Username already exists</div>
        </div>
      </div>

      <!-- Email -->
      <div class="full-width my-3">
        <label class="fs-5">Email</label>
        <input type="email" formControlName="email" class="form-control" placeholder="ex: user@gmail.com" />
        <div *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched" class="valid-form">
          <div *ngIf="signupForm.get('email')?.errors?.['required']">Email is required</div>
          <div *ngIf="signupForm.get('email')?.errors?.['email']">Invalid email format</div>
          <div *ngIf="signupForm.get('email')?.errors?.['notUnique']">Email already exists</div>
        </div>
      </div>

      <!-- Password -->
      <div class="full-width my-3">
        <label class="fs-5">Password</label>
        <input [type]="hidePassword ? 'password' : 'text'" formControlName="password" class="form-control" placeholder="********" />
      </div>

      <!-- Confirm Password -->
      <div class="full-width my-3">
        <label class="fs-5">Confirm Password</label>
        <input [type]="hideConfirmPassword ? 'password' : 'text'" formControlName="confirmPassword" class="form-control" placeholder="********" />
      </div>

      <!-- Error for mismatch -->
      <div *ngIf="signupForm.errors?.['passwordMismatch']" class="valid-form">Passwords do not match</div>

      <!-- User Type -->
      <div class="my-3">
        <label class="fs-5 d-block">User Type</label>
        <mat-radio-group formControlName="user_type">
          <mat-radio-button value="Employer">Employer</mat-radio-button>
          <mat-radio-button value="Seeker">Seeker</mat-radio-button>
        </mat-radio-group>
      </div>

      <!-- Employer Only -->
      <div *ngIf="signupForm.get('user_type')?.value === 'Employer'">
        <div class="full-width my-3">
          <label class="fs-5">Company Name</label>
          <input type="text" formControlName="companyName" class="form-control" placeholder="ex: Google LLC" />
        </div>

        <div class="full-width my-3">
          <label class="fs-5">Company Location</label>
          <input type="text" formControlName="companyLocation" class="form-control" placeholder="ex: New York, USA" />
        </div>
      </div>

      <!-- Submit -->
      <button class="reset-btn fs-4 my-4" type="submit">
        Register
      </button>

      <!-- Redirect -->
      <p class="text-center fs-5 mt-3">
        Already have an account?
        <a routerLink="/login" class="text-primary" style="cursor: pointer; text-decoration: underline">Login</a>
      </p>
    </form>
  </div>
</div>
